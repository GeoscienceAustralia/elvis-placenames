"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AboutService(e){var t={show:!1,ingroup:!1,stick:!1};return e.getConfig("about").then(function(e){t.items=e}),{getState:function(){return t}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ResultsService(e,t,n,a,r,i,s){var o,l=7,c={showPan:function(e){return this.show(e).then(function(e){var t=e.map;return t.panTo(e.location,{animate:!0}),t.getZoom()<l&&t.setZoom(l,{animate:!0}),e})},show:function(e){return this.hide().then(function(t){var n=e.location.split(" ").reverse().map(function(e){return+e});return o=L.popup().setLatLng(n).setContent(e.name+"<br/>Lat/Lng: "+n[0]+"&deg;"+n[1]+"&deg;").openOn(t),{location:n,map:t,marker:o}})},downloadOld:function(t){this.config.then(function(n){e.get(n.esriTemplate.replace("${id}",t.join(","))).then(function(e){var t=new Blob([JSON.stringify(e,null,3)],{type:"application/json;charset=utf-8"});saveAs(t,"gazetteer-esri-features-"+Date.now()+".json")})})},download:function(t){this.config.then(function(n){e.get(n.esriTemplate.replace("${id}",t.join(","))).then(function(e){var t=new Blob([JSON.stringify(e,null,3)],{type:"application/json;charset=utf-8"});saveAs(t,"gazetteer-esri-features-"+Date.now()+".json")})})},hide:function(e){return i.getMap().then(function(e){return o&&e.removeLayer(o),e})},get config(){return r.getConfig().then(function(e){return e.results})},load:function(e){return this.config.then(function(n){var a=n.esriTemplate;return t.get(a.replace("${id}",e),{cache:!0}).then(function(e){return console.log("argghhh1! "+e.status),e.data},function(){return{features:[{noData:!0}]}})})},moreDocs:function(e){var t=e.data.response,n=t.docs.length;if(!(n>=t.numFound)){var a=e.params;a.start=n,s.request(a).then(function(e){var n;(n=t.docs).push.apply(n,_toConsumableArray(e.response.docs))})}}};return c}function SearchService(e,t,n,a,r){function i(){return s().then(function(e){return o(e).then(function(n){return g.persist(e,n),t.$broadcast("pn.search.complete",n),n})})}function s(){return r.getMap().then(function(e){var t=f.featureCodes,n=t.filter(function(e){return e.selected}),a=f.classifications.filter(function(e){return e.selected}),r=d(),i="object"===_typeof(f.filter),s=i?f.filter.name:f.filter;r.fq=u(e),r["facet.heatmap.geom"]=p(e),r.sort=c(e),r.q=s?'"'+s.toLowerCase()+'"':"*:*";var o=[];return n.forEach(function(e){o.push("featureCode:"+e.code)}),a.forEach(function(e){o.push('classification:"'+e.name+'"')}),f.authorities.filter(function(e){return e.selected}).forEach(function(e){o.push("authority:"+e.code)}),o.length&&(r.q+=" AND ("+o.join(" ")+")"),r})}function o(e){return l(e).then(function(e){return e.facetCounts={},t.$broadcast("pn.facets.changed",e.facet_counts.facet_fields),e})}function l(t){return e({url:"/select?",method:"GET",params:t,cache:!0}).then(function(e){return e.data})}function c(e){var t=e.getBounds(),n=(t.getEast()-t.getWest())/2,a=(t.getNorth()-t.getSouth())/2;return"geodist(ll,"+(t.getSouth()+a)+","+(t.getWest()+n)+") asc"}function u(e){var t=e.getBounds();return"location:["+Math.max(t.getSouth(),-90)+","+Math.max(t.getWest(),-180)+" TO "+Math.min(t.getNorth(),90)+","+Math.min(t.getEast(),180)+"]"}function p(e){var t=e.getBounds();return"["+Math.max(t.getSouth(),-90)+","+Math.max(t.getWest(),-180)+" TO "+Math.min(t.getNorth(),90)+","+Math.min(t.getEast(),180)+"]"}function d(){return{"facet.heatmap.format":"ints2D","facet.heatmap":"location",facet:!0,"facet.field":["featureCode","classification","authority"],rows:50,wt:"json"}}var m,f={searched:null,featureCodes:[],classifications:[],authorities:[]},h=[],g={onMapUpdate:function(e){h.push(e)},offMapUpdate:function(e){delete h[e]},get data(){return f},filtered:function(){return i().then(function(e){return f.filtered=e,e})},request:function(e){return l(e)},search:function(e){e&&(f.persist.item=e),this.searched()},persist:function(e,t){f.persist={params:e,data:t}},searched:function(){f.searched=f.persist,this.hide()},show:function(e){this.hide().then(function(t){var n=e.location.split(" ").reverse().map(function(e){return+e});m=L.popup().setLatLng(n).setContent(e.name+"<br/>Lat/Lng: "+n[0]+"&deg;"+n[1]+"&deg;").openOn(t)})},hide:function(e){return r.getMap().then(function(e){return m&&e.removeLayer(m),e})}};return r.getMap().then(function(e){var t;e.on("resize moveend viewreset",function(){n.cancel(t),f.searched||(t=n(function(){g.filtered()},200),h.forEach(function(e){e()}))})}),g}angular.module("placenames.bounds",[]).directive("placenamesBounds",["flashService","messageService","boundsService",function(e,t,n){var a=void 0;return{restrict:"AE",link:function(){n.init().then(null,null,function(n){switch(e.remove(a),n.type){case"error":case"warn":case"info":t[n.type](n.text);break;default:e.remove(a),a=e.add(n.text,n.duration?n.duration:8e3,"wait"===n.type)}})}}}]).factory("boundsService",["$http","$q","$rootScope","$timeout","configService","flashService",function(e,t,n,a,r,i){function s(e,t,n){f&&f.notify({text:e,type:t,duration:n})}function o(e){var n=t.defer(),r=p(e);if(r&&r.code)switch(r.code){case"oversize":a(function(){s("","clear"),s("The selected area is too large to process. Please restrict to approximately 2 degrees square.","error"),n.resolve(r)});break;case"undersize":a(function(){s("","clear"),s("X Min and Y Min should be smaller than X Max and Y Max, respectively. Please update the drawn area.","error"),n.resolve(r)});break;default:return t.when(r)}return n.promise}function l(e){var t=(e.xMax-e.xMin)*(e.yMax-e.yMin);return t<1e-11||e.xMax<e.xMin}function c(e){var t=Math.abs((e.xMax-e.xMin)*(e.yMax-e.yMin));return t>2e3}function u(e){e.xMax=null===e.xMax?null:+e.xMax,e.xMin=null===e.xMin?null:+e.xMin,e.yMax=null===e.yMax?null:+e.yMax,e.yMin=null===e.yMin?null:+e.yMin}function p(e){return u(e),c(e)?{code:"oversize"}:l(e)?{code:"undersize"}:null===e.xMax?{code:"incomplete"}:d(e)?{code:"success"}:{code:"invalid"}}function d(e){return e&&angular.isNumber(e.xMax)&&angular.isNumber(e.xMin)&&angular.isNumber(e.yMax)&&angular.isNumber(e.yMin)&&!c(e)&&!l(e)}function m(t){r.getConfig("processing").then(function(a){var r=a.intersectsUrl;if(r){var i=r.replace("{maxx}",t.xMax).replace("{minx}",t.xMin).replace("{maxy}",t.yMax).replace("{miny}",t.yMin);s("Checking there is data in your selected area...","wait",18e4),e.get(i).then(function(e){if(e.data&&e.data.available_data){var t="There is no data held in your selected area. Please try another area.";s("","clear"),e.data.available_data&&e.data.available_data.forEach(function(e){e.downloadables&&(t="There is intersecting data. Select downloads from the list.")}),s(t,null,4e3),n.$broadcast("site.selection",e.data)}},function(e){s("The service that provides the list of datasets is currently unavailable. Please try again later.","error")})}})}var f=void 0;return{init:function(){return f=t.defer(),n.$on("placenames.clip.drawn",function(e,t){s("Area drawn. Checking for data..."),o(t).then(function(e){"success"===e.code?(n.$broadcast("placenames.bounds.draw",[t.xMin,t.yMin,t.xMax,t.yMax]),m(t)):n.$broadcast("placenames.clip.draw",{message:"oversize"})})}),f.promise},cancelDraw:function(){drawService.cancelDrawRectangle()},checkSize:function(e){return o(e)}}}]);var RootCtrl=function e(t,n){var a=this;_classCallCheck(this,e),n.getMap().then(function(e){a.map=e}),t.getConfig().then(function(e){a.data=e})};RootCtrl.$invoke=["configService","mapService"],angular.module("PlacenamesApp",["explorer.config","explorer.confirm","explorer.enter","explorer.flasher","explorer.googleanalytics","explorer.info","explorer.message","explorer.modal","explorer.persist","explorer.projects","explorer.version","exp.ui.templates","explorer.map.templates","ui.bootstrap","ngAutocomplete","ngRoute","ngSanitize","page.footer","geo.baselayer.control","geo.draw","geo.map","geo.maphelper","geo.measure","placenames.about","placenames.bounds","placenames.classifications","placenames.clusters","placenames.extent","placenames.header","placenames.maps","placenames.navigation","placenames.panes","placenames.popover","placenames.proxy","placenames.reset","placenames.results","placenames.search","placenames.side-panel","placenames.splash","placenames.templates","placenames.toolbar","placenames.utils"]).config(["configServiceProvider","persistServiceProvider","projectsServiceProvider","versionServiceProvider",function(e,t,n,a){e.location("placenames/resources/config/config.json?v=4"),e.dynamicLocation("placenames/resources/config/configclient.json?"),a.url("placenames/assets/package.json"),t.handler("local"),n.setProject("placenames")}]).controller("RootCtrl",RootCtrl).filter("bytes",function(){return function(e,t){if(isNaN(parseFloat(e))||!isFinite(e))return"-";"undefined"==typeof t&&(t=0);var n=["bytes","kB","MB","GB","TB","PB"],a=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(a))).toFixed(t)+" "+n[a]}}).factory("userService",[function(){function e(){return!0}return{login:e,hasAcceptedTerms:e,setAcceptedTerms:e,getUsername:function(){return"anon"}}}]),"every"in Array.prototype||(Array.prototype.every=function(e,t){for(var n=0,a=this.length;n<a;n++)if(n in this&&!e.call(t,this[n],n,this))return!1;return!0}),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},a=Math.pow(2,53)-1,r=function(e){var t=n(e);return Math.min(Math.max(t,0),a)};return function(e){var n=this,a=Object(e);if(null===e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,s=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof s){if(!t(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var o,l=r(a.length),c=t(n)?Object(new n(l)):new Array(l),u=0;u<l;)o=a[u],s?c[u]="undefined"==typeof i?s(o,u):s.call(i,o,u):c[u]=o,u+=1;return c.length=l,c}}()),angular.module("placenames.autoscroll",[]).directive("autoScroll",["$timeout","$rootScope",function(e,t){return{scope:{trigger:"@",y:"@",height:"@"},link:function(n,a,r){var i,s,o;o=n.height?+n.height:100,s=o,a.on("scroll",function(l){var c,u,p=a.scrollTop(),d=a.find(r.autoScroll),m=d.height(),f=a.height();f>=m||(c=m-p-f,u=s<c,s=c,c<o&&!u&&(i&&e.cancel(i),i=e(function(){t.$broadcast(n.trigger)},30)))})}}}]),AboutService.$inject=["configService"],angular.module("placenames.about",[]).directive("placenamesAbout",["$interval","aboutService",function(e,t){return{templateUrl:"placenames/about/about.html",scope:{},link:function(n,a){var r=void 0;n.about=t.getState(),n.over=function(){e.cancel(r),n.about.ingroup=!0},n.out=function(){r=e(function(){n.about.ingroup=!1},1e3)},n.unstick=function(){n.about.ingroup=n.about.show=n.about.stick=!1,a.find("a").blur()}}}}]).directive("placenamesAboutLink",["$interval","aboutService",function(e,t){return{restrict:"AE",templateUrl:"placenames/about/button.html",scope:{},link:function(n){var a=void 0;n.about=t.getState(),n.over=function(){e.cancel(a),n.about.show=!0},n.toggleStick=function(){n.about.stick=!n.about.stick,n.about.stick||(n.about.show=n.about.ingroup=!1)},n.out=function(){a=e(function(){n.about.show=!1},700)}}}}]).factory("aboutService",AboutService),angular.module("placenames.authorities",[]).directive("placenamesAuthorities",[function(){return{restrict:"EA",templateUrl:"placenames/authorities/authorities.html",bindToController:{authorities:"=",update:"&"},controller:function(){console.log(this.authorities)},controllerAs:"pa"}}]).directive("placenamesAuthoritiesPills",[function(){return{restrict:"EA",template:'<span class="pn-authorities-pills" placenames-pills pills="pap.authorities" class="pn-feature-pills" update="pap.update()"></span>',bindToController:{authorities:"=",update:"&"},controller:function(){},controllerAs:"pap"}}]).filter("pnUnselectedFacets",[function(){return function(e){return e?e.filter(function(e){return!e.selected}):[]}}]),angular.module("placenames.classifications",[]).directive("placenamesClassifications",[function(){return{restrict:"EA",templateUrl:"placenames/classifications/classifications.html",bindToController:{classifications:"=",update:"&"},controller:function(){console.log(this.classifications)},controllerAs:"pc"}}]).directive("placenamesClassificationsPills",[function(){return{restrict:"EA",template:'<span placenames-pills class="pn-classifications-pills" pills="pcp.classifications" class="pn-feature-pills" update="pcp.update()"></span>',bindToController:{classifications:"=",update:"&"},controller:function(){},controllerAs:"pcp"}}]);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),SolrTransformer=function(){function e(t){var n=this;if(_classCallCheck(this,e),t){var a={},r=null;t.forEach(function(e,t){t%2?a[r]=e:r=e}),this.data=a,this.dx=(a.maxX-a.minX)/a.columns,this.dy=(a.maxY-a.minY)/a.rows,this.cells=[],a.counts_ints2D.forEach(function(e,t){e&&e.forEach(function(e,a){if(e){var r={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[]}},i=r.properties,s=r.geometry;i.count=e,s.coordinates[0]=n.data.minX+n.dx*(a+.5),s.coordinates[1]=n.data.maxY-n.dy*(t+.5),n.cells.push(r)}})})}}return _createClass(e,[{key:"getGeoJson",value:function(){return{type:"FeatureCollection",features:this.cells}}}]),e}();angular.module("placenames.clusters",[]).directive("placenamesClusters",["placenamesClusterService",function(e){return{link:function(){e.init()}}}]).factory("placenamesClusterService",["$http","$rootScope","configService","mapService",function(e,t,n,a){var r={showClusters:!0,sequence:0,layer:null};return r.init=function(){var e=this;n.getConfig("clusters").then(function(n){a.getMap().then(function(r){function i(e,t){s.showClusters&&s._refreshClusters(t)}console.log("Now we have the map",r),e.map=r,e.config=n,console.log(a.getGroup("clusters"));var s=e;t.$on("pn.search.complete",i)})})},r._refreshClusters=function(t){var n=this,a=t.response.numFound;if(this.layer&&this.map.removeLayer(this.layer),a>2e3){this.layer=L.markerClusterGroup({showCoverageOnHover:!1,zoomToBoundsOnClick:!1,singleMarkerMode:!0});var r=t.facet_counts.facet_heatmaps[this.config.countField],i=new SolrTransformer(r),s=i.getGeoJson();d3.max(s.features,function(e){return e.properties.count});i.cells.forEach(function(e){for(var t=e.properties.count,a=0;a<t;a++)n.layer.addLayer(L.marker([e.geometry.coordinates[1],e.geometry.coordinates[0]]))})}else{this.layer=L.markerClusterGroup({disableClusteringAtZoom:15});var o=Object.assign({},t.responseHeader.params);o.rows=a;var l="select?fl=location,name&"+Object.keys(o).filter(function(e){return 0!==e.indexOf("facet")}).map(function(e){return e+"="+o[e]}).join("&");e.get(l).then(function(e){var t=e.data.response.docs;t.forEach(function(e){var t=e.location.split(" ");e.title=e.name,n.layer.addLayer(L.marker([+t[1],+t[0]],e))})})}this.layer.addTo(this.map)},r}]),angular.module("placenames.facets",[]).factory("placenamesFacetsService",["$http","$q","$rootScope","configService","proxy",function(e,t,n,a,r){function i(e,t){h.getAuthorities().then(function(){c(d,t.authority)}),h.getFeatureCodes().then(function(){c(f,t.featureCode)}),h.getClassifications().then(function(){c(m,t.classification)})}function s(){return a.getConfig("featureCodes")}function o(){return a.getConfig("authorities")}function l(){return a.getConfig("facetsQuery").then(function(t){return e.get(t,p).then(function(e){return e.data.facet_counts.facet_fields})})}function c(e,t){var n,a={};t.forEach(function(e,t){t%2===0?n=e:a[n]=e}),e.forEach(function(e){var t=a[e.code];e.count=t?t:0})}function u(e){var t,n=[];return e.forEach(function(e,a){a%2?n.push({code:t,name:t,total:e}):t=e}),n}var p={cache:!0},d=[],m=[],f=[],h={getFeatureCodes:function(){return f.length||s().then(function(e){l().then(function(t){f.push.apply(f,_toConsumableArray(u(t.featureCode).map(function(t){return t.name=e[t.code],t})))})}),t.when(f)},getAuthorities:function(){return d.length||o().then(function(e){l().then(function(t){d.push.apply(d,_toConsumableArray(u(t.authority).map(function(t){return t.name=e[t.code].name,t.jurisdiction=e[t.code].jurisdiction,t})))})}),t.when(d)},getClassifications:function(){return m.length||l().then(function(e){m.push.apply(m,_toConsumableArray(u(e.classification)))}),t.when(m)}};return n.$on("pn.facets.changed",i),h}]);var ExtentService=function t(e,n){function a(){e.getMap().then(function(e){e.on("moveend",r),e.on("zoomend",r),r()})}function r(){e.getMap().then(function(e){var t=e.getBounds();i.yMin=t.getSouth(),i.xMin=t.getWest(),i.yMax=t.getNorth(),i.xMax=t.getEast(),n.refresh()})}_classCallCheck(this,t);var i=n.getSearchCriteria().bbox;return i.fromMap&&a(),{getParameters:function(){return i}}};ExtentService.$inject=["mapService","searchService"],angular.module("placenames.extent",["explorer.switch"]).directive("placenamesExtent",["extentService",function(e){return{restrict:"AE",templateUrl:"placenames/extent/extent.html",controller:["$scope",function(t){t.parameters=e.getParameters()}],link:function(e,t,n){}}}]).factory("extentService",ExtentService),angular.module("placenames.featuretypes",["placenames.pills"]).directive("placenamesFeaturetypes",[function(){return{restrict:"EA",templateUrl:"placenames/featuretypes/featuretypes.html",bindToController:{types:"=",update:"&"},controller:function(){console.log(this.types)},controllerAs:"vm"}}]).directive("placenamesFeaturetypesPills",[function(){return{restrict:"EA",template:'<placenames-pills pills="pfp.features" class="pn-feature-pills" update="pfp.update()"></placenames-pills>',bindToController:{features:"=",update:"&"},controller:function(){},controllerAs:"pfp"}}]).filter("placenamesHasName",function(){return function(e){return(e?e:[]).filter(function(e){return!!e.name})}});var MapsCtrl=function n(e,t,a,r){_classCallCheck(this,n);L.layerGroup([]),{download:r.getLayerGroup(),select:a.getLayerGroup()}};MapsCtrl.$inject=["$rootScope","mapService","selectService","downloadService"],angular.module("placenames.groups",[]).factory("GroupsCtrl",MapsCtrl),angular.module("placenames.header",["placenames.themes"]).controller("headerController",["$scope","$q","$timeout",function(e,t,n){var a=function(e){return e};e.$on("headerUpdated",function(t,n){e.headerConfig=a(n)})}]).directive("placenamesHeader",[function(){var e={heading:"ICSM",headingtitle:"ICSM",helpurl:"help.html",helptitle:"Get help about ICSM",helpalttext:"Get help about ICSM",skiptocontenttitle:"Skip to content",skiptocontent:"Skip to content",quicklinksurl:"/search/api/quickLinks/json?lang=en-US"};return{transclude:!0,restrict:"EA",templateUrl:"placenames/header/header.html",scope:{breadcrumbs:"=",heading:"=",headingtitle:"=",helpurl:"=",helptitle:"=",helpalttext:"=",skiptocontenttitle:"=",skiptocontent:"=",quicklinksurl:"="},link:function(t,n,a){angular.copy(e);angular.forEach(e,function(e,n){n in t||(t[n]=e)})}}}]).factory("headerService",["$http",function(){}]);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),MapsCtrl=function(){function e(t){_classCallCheck(this,e),this.mapService=mapService}return _createClass(e,[{key:"toggleLayer",value:function(e){this.mapsService.toggleShow(e)}}]),e}();MapsCtrl.$inject=["mapsService"];var MapsService=function(){function e(t,n){_classCallCheck(this,e),this.CONFIG_KEY="layersTab",this.configService=t,this.mapService=n,this.configService=t}return _createClass(e,[{key:"getConfig",value:function(){return this.configService.getConfig(this.CONFIG_KEY)}},{key:"toggleShow",value:function(e,t){var n=this;this.configService.getConfig(this.CONFIG_KEY).then(function(t){e.layer?(e.displayed=!1,n.mapService.removeFromGroup(e,t.group)):(n.mapService.addToGroup(e,t.group),e.displayed=!0)})}}]),e}();MapsService.$inject=["configService","mapService"],angular.module("placenames.maps",["explorer.layer.slider"]).directive("placenamesMaps",["mapsService",function(e){return{templateUrl:"placenames/maps/maps.html",link:function(t){e.getConfig().then(function(e){t.layersTab=e})}}}]).controller("MapsCtrl",MapsCtrl).service("mapsService",MapsService),angular.module("placenames.altthemes",["placenames.storage"]).directive("altThemes",["altthemesService",function(e){return{restrict:"AE",templateUrl:"placenames/navigation/altthemes.html",scope:{current:"="},link:function(t){e.getThemes().then(function(e){t.themes=e}),e.getCurrentTheme().then(function(e){t.theme=e}),t.changeTheme=function(n){t.theme=n,e.setTheme(n.key)}}}}]).controller("altthemesCtrl",["altthemesService",function(e){this.service=e}]).filter("altthemesFilter",function(){return function(e,t){var n=[];return t?(e&&e.forEach(function(e){e.themes&&e.themes.some(function(e){return e===t.key})&&n.push(e)}),n):e}}).factory("altthemesService",["$q","$http","storageService",function(e,t,n){var a="placenames.current.theme",r="placenames/resources/config/themes.json",i="All",s=[],o=this;return this.themes=[],this.theme=null,n.getItem(a).then(function(e){e||(e=i),t.get(r,{cache:!0}).then(function(t){var n=t.data.themes;o.themes=n,o.theme=n[e],angular.forEach(n,function(e,t){e.key=t}),s.forEach(function(e){e.resolve(o.theme)})})}),this.getCurrentTheme=function(){if(this.theme)return e.when(o.theme);var t=e.defer();return s.push(t),t.promise},this.getThemes=function(){return t.get(r,{cache:!0}).then(function(e){return e.data.themes})},this.setTheme=function(e){this.theme=this.themes[e],n.setItem(a,e)},this}]).filter("altthemesEnabled",function(){return function(e){return e?e.filter(function(e){return!!e.enabled}):e}}).filter("altthemesMatchCurrent",function(){return function(e,t){return e?e.filter(function(e){return!!e.keys.find(function(e){return e===t})}):e}}),angular.module("placenames.navigation",["placenames.altthemes"]).directive("placenamesNavigation",[function(){return{restrict:"AE",template:"<alt-themes current='current'></alt-themes>",scope:{current:"=?"},link:function(e){e.username="Anonymous",e.current||(e.current="none")}}}]).factory("navigationService",[function(){return{}}]),angular.module("placenames.panes",[]).directive("placenamesPanes",["$rootScope","$timeout","mapService",function(e,t,n){return{templateUrl:"placenames/panes/panes.html",scope:{defaultItem:"@",data:"="},controller:["$scope",function(a){var r=!1;a.view=a.defaultItem,e.$on("side.panel.change",function(e){function n(){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!1,!0),window.dispatchEvent(e)}n(),t(n,100),t(n,200),t(n,300),t(n,500)}),a.setView=function(t){var i=a.view,s=0;a.view===t?(t&&(r=!0,s=1e3),a.view=""):(t||(r=!0),a.view=t),e.$broadcast("view.changed",a.view,i),r&&n.getMap().then(function(e){e._onResize()})},t(function(){e.$broadcast("view.changed",a.view,null)},50)}]}}]),function(e){e.module("placenames.pills",[]).directive("placenamesPills",[function(){return{restrict:"EA",templateUrl:"placenames/pills/pills.html",bindToController:{pills:"=",update:"&"},controller:function(){this.clear=function(e){e.selected=!1,this.update()}},controllerAs:"pp"}}])}(angular),angular.module("placenames.popover",[]).directive("placenamesPopover",[function(){return{templateUrl:"placenames/popover/popover.html",restrict:"A",transclude:!0,scope:{closeOnEscape:"@",show:"=",containerClass:"=",direction:"@"},link:function(e,t){function n(t){27===t.which&&(t.stopPropagation(),t.preventDefault(),e.$apply(function(){e.show=!1}))}e.direction||(e.direction="bottom"),!e.closeOnEscape||e.closeOnEscape!==!0&&"true"!==e.closeOnEscape||t.on("keyup",n)}}}]),angular.module("placenames.proxy",[]).provider("proxy",function(){this.$get=["$http","$q",function(e,t){var n="proxy/";return this.setProxyBase=function(e){n=e},{get:function(e,t){return this._method("get",e,t)},post:function(e,t){return this._method("post",e,t)},put:function(e,t){return this._method("put",e,t)},_method:function(t,a,r){return e[t](n+a,r).then(function(e){return e.data})}}}]}),angular.module("placenames.plot",[]).directive("placenamesPlot",["$log",function(e){return{restrict:"AE",scope:{line:"="},link:function(t,n,a,r){t.$watch("line",function(t,n){e.info(t)})}}}]),angular.module("placenames.reset",[]).directive("resetPage",function(e){return{restrict:"AE",scope:{},templateUrl:"placenames/reset/reset.html",controller:["$scope",function(t){t.reset=function(){e.location.reload()}}]}}),function(e){e.module("placenames.results.item",[]).directive("placenamesResultsItem",["placenamesItemService","placenamesResultsService",function(e,t){return{templateUrl:"placenames/results/item.html",bindToController:{item:"="},controller:function(){var n=this;console.log("Creating an item scope"),this.showPan=function(e){t.showPan(e)},this.download=function(t){e[t](this)},t.load(this.item.recordId).then(function(e){n.feature=e.features[0]})},controllerAs:"vm"}}]).factory("placenamesItemService",["$http","configService",function(e,t){var n={esri:function(e){var t=new Blob([JSON.stringify(e.feature,null,3)],{type:"application/json;charset=utf-8"});saveAs(t,"gazetteer-esri-feature-"+e.item.recordId+".json")},wfs:function(n){t.getConfig("results").then(function(t){var a=t.wfsTemplate;e.get(a.replace("${id}",n.item.recordId)).then(function(e){var t=new Blob([e.data],{type:"application/json;charset=utf-8"});saveAs(t,"gazetteer-wfs-feature-"+n.item.recordId+".xml")})})}};return n}]).filter("itemLongitude",function(){return function(e){return e.split(" ")[0]}}).filter("itemLatitude",function(){return function(e){return e.split(" ")[1]}})}(angular),angular.module("placenames.results",["placenames.results.item","placenames.scroll"]).directive("placenamesResults",["placenamesResultsService",function(e){return{templateUrl:"placenames/results/results.html",restrict:"AE",bindToController:{data:"="},controller:function(){this.clear=function(e){this.data.searched=null},this.more=function(){e.moreDocs(this.data.persist)},this.download=function(){e.download(this.data.persist.data.response.docs.map(function(e){return e.id}))}},controllerAs:"pr",link:function(t){t.$destroy=function(){e.hide()},e.moreDocs(t.pr.data.persist)}}}]).factory("placenamesResultsService",ResultsService).filter("resultsHasSomeData",function(){return function(e){return e.some(function(e){return e})}}),ResultsService.$inject=["proxy","$http","$rootScope","$timeout","configService","mapService","placenamesSearchService"],angular.module("placenames.scroll",[]).directive("commonScroller",["$timeout",function(e){return{scope:{more:"&",buffer:"=?"},link:function(t,n,a){var r;t.buffer||(t.buffer=100),n.on("scroll",function(n){function a(){t.more&&i.scrollHeight-i.scrollTop<=i.clientHeight+t.buffer&&t.more()}var i=n.currentTarget;e.cancel(r),r=e(a,120)})}}}]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("placenames.search",["placenames.facets","placenames.featuretypes","placenames.authorities"]).directive("placenamesClear",["placenamesSearchService",function(e){return{link:function(t,n){function a(){if(n.is(":focus")){var e=$.Event("keydown");e.which=27,n.trigger(e),n.blur()}}e.onMapUpdate(a)}}}]).directive("placenamesOptions",["placenamesSearchService",function(e){return{link:function(t){t.leave=function(){e.hide()},t.enter=function(){e.show(t.match.model)},t.$destroy=function(){e.hide()}}}}]).directive("placenamesSearch",["$timeout","placenamesFacetsService","placenamesSearchService",function(e,t,n){return{templateUrl:"placenames/search/search.html",restrict:"AE",link:function(e){e.state=n.data,e.status={classOpen:!1},e.$watch("state.searched",function(e,t){!e&&t&&n.filtered()}),n.filtered(),e.update=function(){n.filtered()},e.loadOnEmpty=function(){e.state.filter||n.filtered()},e.search=function(e){n.search(e)},e.select=function(t){e.search(t)},e.deselect=function(e){e.selected=!1,n.filtered()},e.loadDocs=function(){return n.filtered().then(function(e){return e.response.docs})},e.$watch("status.classOpen",function(n){n&&!e.classifications&&(e.classifications=!0,t.getClassifications().then(function(t){e.state.classifications=t}))}),e.$watch("status.open",function(n){n&&!e.featureCodes&&(e.featureCodes=!0,t.getFeatureCodes().then(function(t){e.state.featureCodes=t}))}),e.$watch("status.authOpen",function(n){n&&!e.authorities&&(e.authorities=!0,t.getAuthorities().then(function(t){e.state.authorities=t}))})}}}]).filter("placenamesDocName",[function(){return function(e){return e?e.map(function(e){return e.name+" ("+e.recordId+")"}):[]}}]).filter("placenamesSomeSelected",[function(){return function(e){return!!e&&Object.keys(e).some(function(t){return e[t].selected})}}]).filter("placenamesUnselectedFacets",[function(){return function(e){return e?e.filter(function(e){return!e.selected}):[]}}]).filter("placenamesSelectedFacets",[function(){return function(e){return e?e.filter(function(e){return e.selected}):[]}}]).filter("placenamesClean",[function(){return function(e){return e.replace(/\s?[, ]\s?/g," ")}}]).filter("placenamesTooltip",[function(){return function(e){var t="<div style='text-align:left'>";if(e.variant){var n=e.variant.split("|");n.forEach(function(e,a){t+=a?"":"Also known as",t+=(a&&a<n.length-1?",":"")+" ",a&&a===n.length-1&&(t+="or "),t+=e}),t+="<br/>"}return t+="Lat "+e.location.split(" ").reverse().join("&deg; Lng ")+"&deg;<br/>Classification: "+e.classification+"</div>"}}]).factory("placenamesSearchService",SearchService),SearchService.$inject=["$http","$rootScope","$timeout","configService","mapService"],angular.module("placenames.splash",["ui.bootstrap.modal"]).directive("placenamesSplash",["$rootScope","$uibModal","$log","splashService",function(e,t,n,a){return{controller:["$scope","splashService",function(e,t){e.acceptedTerms=!0,t.getReleaseNotes().then(function(n){e.releaseMessages=n,e.acceptedTerms=t.hasViewedSplash()})}],link:function(r,i){var s;r.$watch("acceptedTerms",function(e){e===!1&&(s=t.open({templateUrl:"placenames/splash/splash.html",size:"lg",backdrop:"static",keyboard:!1,controller:["$scope","acceptedTerms","messages",function(e,t,n){e.acceptedTerms=t,e.messages=n,e.accept=function(){s.close(!0)}}],resolve:{acceptedTerms:function(){return r.acceptedTerms},messages:function(){return r.releaseMessages}}}),s.result.then(function(e){n.info("Accepted terms"),r.acceptedTerms=e,a.setHasViewedSplash(e)},function(){n.info("Modal dismissed at: "+new Date)}))}),e.$on("logoutRequest",function(){userService.setAcceptedTerms(!1)})}}}]).factory("splashService",["$http",function(e){function t(e){e?sessionStorage.setItem(a,!0):sessionStorage.removeItem(a)}function n(){return!!sessionStorage.getItem(a)}var a="placenames.accepted.terms",r="placenames/resources/config/releasenotes.json";return{getReleaseNotes:function(){return e({method:"GET",url:r+"?t="+Date.now()
}).then(function(e){return e.data})},hasViewedSplash:n,setHasViewedSplash:t}}]).filter("priorityColor",[function(){var e={IMPORTANT:"red",HIGH:"blue",MEDIUM:"orange",LOW:"gray"};return function(t){return t in e?e[t]:"black"}}]).filter("wordLowerCamel",function(){return function(e){return e.charAt(0)+e.substr(1).toLowerCase()}}).filter("sortNotes",[function(){return function(e){if(e){var t=e.slice(0).sort(function(e,t){return e.priority==t.priority?e.lastUpdate==t.lastUpdate?0:t.lastUpdate-e.lastUpdate:"IMPORTANT"==e.priority?-11:1});return t}}}]),angular.module("placenames.side-panel",[]).factory("panelSideFactory",["$rootScope","$timeout",function(e,t){function n(e,t){var n=e.active;return n===t?(e.active=null,e.width=0):e.active=t,!n}var a={left:{active:null,width:0},right:{active:null,width:0}};return{state:a,setLeft:function(e){var t=n(a.left,e);return t&&(a.left.width=320),t},setRight:function(t){a.right.width=t.width;var r=n(a.right,t.name);return e.$broadcast("side.panel.change",{side:"right",data:a.right,width:t.width}),r}}}]).directive("sidePanelRightOppose",["panelSideFactory",function(e){return{restrict:"E",transclude:!0,template:'<div class="contentContainer" ng-attr-style="right:{{right.width}}"><ng-transclude></ng-transclude></div>',link:function(t){t.right=e.state.right}}}]).directive("sidePanelRight",["panelSideFactory",function(e){return{restrict:"E",transclude:!0,templateUrl:"placenames/side-panel/side-panel-right.html",link:function(t){t.right=e.state.right,t.closePanel=function(){e.setRight({name:null,width:0})}}}}]).directive("panelTrigger",["panelSideFactory",function(e){return{restrict:"E",transclude:!0,templateUrl:"placenames/side-panel/trigger.html",scope:{"default":"@?",panelWidth:"@",name:"@",iconClass:"@",panelId:"@"},link:function(t){t.toggle=function(){e.setRight({width:t.panelWidth,name:t.panelId})},t["default"]&&e.setRight({width:t.panelWidth,name:t.panelId})}}}]).directive("sidePanelLeft",["panelSideFactory",function(e){return{restrict:"E",transclude:!0,templateUrl:"placenames/side-panel/side-panel-left.html",link:function(t){t.left=e.state.left,t.closeLeft=function(){e.setLeft(null)}}}}]),angular.module("placenames.storage",[]).factory("storageService",["$log","$q",function(e,t){var n="elvis.placenames";return{setGlobalItem:function(e,t){this._setItem("_system",e,t)},setItem:function(e,t){this._setItem(n,e,t)},_setItem:function(t,n,a){e.debug("Fetching state for key locally"+n),localStorage.setItem(t+"."+n,JSON.stringify(a))},getGlobalItem:function(e){return this._getItem("_system",e)},getItem:function(e){var a=t.defer();return this._getItem(n,e).then(function(e){a.resolve(e)}),a.promise},_getItem:function(n,a){e.debug("Fetching state locally for key "+a);var r=localStorage.getItem(n+"."+a);if(r)try{r=JSON.parse(r)}catch(i){}return t.when(r)}}}]),angular.module("placenames.themes",[]).directive("placenamesThemes",["placenamesService",function(e){return{restrict:"AE",templateUrl:"placenames/themes/themes.html",link:function(t){e.getThemes().then(function(e){t.themes=e}),e.getCurrentTheme().then(function(e){t.theme=e}),t.changeTheme=function(n){t.theme=n,e.setTheme(n.key)}}}}]).controller("themesCtrl",["themesService",function(e){this.service=e}]).filter("themesFilter",function(){return function(e,t){var n=[];return t?(e&&e.forEach(function(e){e.themes&&e.themes.some(function(e){return e==t.key})&&n.push(e)}),n):e}}).factory("themesService",["$q","configService","storageService",function(e,t,n){var a="placenames.current.theme",r="All",i=[],s=this;return this.themes=[],this.theme=null,n.getItem(a).then(function(e){e||(e=r),t.getConfig("themes").then(function(t){s.themes=t,s.theme=t[e],angular.forEach(t,function(e,t){e.key=t}),i.forEach(function(e){e.resolve(s.theme)})})}),this.getCurrentTheme=function(){if(this.theme)return e.when(s.theme);var t=e.defer();return i.push(t),t.promise},this.getThemes=function(){return t.getConfig("themes")},this.setTheme=function(e){this.theme=this.themes[e],n.setItem(a,e)},this}]),angular.module("placenames.toolbar",[]).directive("placenamesToolbar",[function(){return{templateUrl:"placenames/toolbar/toolbar.html",controller:"toolbarLinksCtrl",transclude:!0}}]).controller("toolbarLinksCtrl",["$scope","configService",function(e,t){var n=this;t.getConfig().then(function(e){n.links=e.toolbarLinks}),e.item="",e.toggleItem=function(t){e.item=e.item===t?"":t}}]),angular.module("placenames.restrict.pan",[]).directive("restrictPan",["mapService",function(e){return{restrict:"AE",scope:{bounds:"="},link:function(t){e.getMap().then(function(e){var n=t.bounds,a=n[0],r=n[1],i=L.latLng(a[0],a[1]),s=L.latLng(r[0],r[1]),o=L.latLngBounds(i,s);e.setMaxBounds(o),e.on("drag",function(){e.panInsideBounds(o,{animate:!1})})})}}}]),angular.module("placenames.utils",[]).filter("placenamesSplitBar",function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="";return e.split("|").forEach(function(e,n,a){t+=(n&&n<a.length-1?",":"")+" ",n&&n===a.length-1&&(t+="or "),t+=e}),t}}).filter("placenamesFeature",["configService",function(e){var t;return e.getConfig("featureCodes").then(function(e){t=e}),function(e){var n=t?t[e]:e;return n?n:e}}]).filter("placenamesGoogleLink",function(){var e="https://www.google.com.au/maps/place/${name}/@${lat},${lng},14z";return function(t){if(!t)return"";var n=t.location.split(" ");return e.replace("${name}",t.name).replace("${lng}",n[0]).replace("${lat}",n[1])}}).factory("placenamesUtilsService",["configService",function(e){var t={};return t}]),angular.module("placenames.templates",[]).run(["$templateCache",function(e){e.put("placenames/about/about.html",'<span class="about" ng-mouseenter="over()" ng-mouseleave="out()"\r\n      ng-class="(about.show || about.ingroup || about.stick) ? \'transitioned-down\' : \'transitioned-up\'">\r\n   <button class="undecorated about-unstick" ng-click="unstick()" style="float:right">X</button>\r\n   <div class="aboutHeading">About Place Names</div>\r\n   <div ng-repeat="item in about.items">\r\n      <a ng-href="{{item.link}}" name="about{{$index}}" title="{{item.heading}}" target="_blank">\r\n         {{item.heading}}\r\n      </a>\r\n   </div>\r\n</span>'),e.put("placenames/about/button.html",'<button ng-mouseenter="over()" ng-mouseleave="out()"\r\n      ng-click="toggleStick()" tooltip-placement="left" uib-tooltip="About Place Names"\r\n      class="btn btn-primary btn-default">About</button>'),e.put("placenames/authorities/authorities.html",'<div ng-repeat="item in pa.authorities | pnUnselectedFacets" class="row">\r\n   <div class="col-md-12 ellipsis" title=\'Jurisdiction: {{item.jurisdiction}}\'>\r\n      <button type="checkbox" class="btn btn-primary btn-sm" ng-click="item.selected = -1;pa.update()"\r\n            ng-model="item.selected" style="padding:0px 4px; margin: 1px;background-color: red;">Add</button>\r\n      <span>\r\n         <a target="_blank" href="http://www.google.com/search?q={{item.name}}">{{item.name}}</a>\r\n         ({{(item.count | number) + (item.count || item.count == 0?\' of \':\'\')}}{{item.total | number}})\r\n      </span>\r\n   </div>\r\n</div>'),e.put("placenames/classifications/classifications.html",'<div ng-repeat="item in pc.classifications | placenamesUnselectedFacets" class="row">\r\n   <div class="col-md-12 ellipsis" title=\'Across all authorities there are a total of {{item.total | number}} features classed as "{{item.name}}"\'>\r\n      <button type="checkbox" class="btn btn-primary btn-sm" ng-click="item.selected = -1;pc.update()"\r\n         ng-model="item.selected" style="padding:0px 4px; margin: 1px;background-color: green;">Add</button>\r\n      <span>\r\n         <a target="_blank" href="http://www.google.com/search?q={{key}}">{{item.name}}</a>\r\n         ({{(item.count | number) + (item.count || item.count == 0?\' of \':\'\')}}{{item.total | number}})\r\n      </span>\r\n   </div>\r\n</div>'),e.put("placenames/extent/extent.html",'<div class="row" style="border-top: 1px solid gray; padding-top:5px">\r\n\t<div class="col-md-5">\r\n\t\t<div class="form-inline">\r\n\t\t\t<label>\r\n\t\t\t\t<input id="extentEnable" type="checkbox" ng-model="parameters.fromMap" ng-click="change()"></input> \r\n\t\t\t\tRestrict area to map\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t</div>\r\n\t \r\n\t<div class="col-md-7" ng-show="parameters.fromMap">\r\n\t\t<div class="container-fluid">\r\n\t\t\t<div class="row">\r\n\t\t\t\t<div class="col-md-offset-3 col-md-8">\r\n\t\t\t\t\t<strong>Y Max:</strong> \r\n\t\t\t\t\t<span>{{parameters.yMax | number : 4}}</span> \r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="row">\r\n\t\t\t\t<div class="col-md-6">\r\n\t\t\t\t\t<strong>X Min:</strong>\r\n\t\t\t\t\t<span>{{parameters.xMin | number : 4}}</span> \r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-md-6">\r\n\t\t\t\t\t<strong>X Max:</strong>\r\n\t\t\t\t\t<span>{{parameters.xMax | number : 4}}</span> \r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="row">\r\n\t\t\t\t<div class="col-md-offset-3 col-md-8">\r\n\t\t\t\t\t<strong>Y Min:</strong>\r\n\t\t\t\t\t<span>{{parameters.yMin | number : 4}}</span> \r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),e.put("placenames/featuretypes/featuretypes.html",'<div ng-repeat="facet in vm.types | placenamesHasName | placenamesUnselectedFacets | orderBy:\'name\'" class="row">\r\n   <div class="col-md-12 ellipsis">\r\n      <button type="checkbox" class="btn btn-primary btn-sm" ng-click="facet.selected = -1;vm.update()"\r\n            ng-model="facet.selected" style="padding:0px 4px; margin: 1px">Add</button>\r\n      <span tooltip-append-to-body="true" tooltip-placement="top-left" uib-tooltip="{{facet.name}}">\r\n         <a target="_blank" href="http://www.google.com/search?q={{facet.name | placenamesClean}}">{{facet.name}}</a>\r\n         ({{(facet.count | number) + (facet.count || facet.count == 0?\' of \':\'\')}}{{facet.total | number}})\r\n      </span>\r\n   </div>\r\n</div>'),e.put("placenames/header/header.html",'<div class="container-full common-header" style="padding-right:10px; padding-left:10px">\r\n    <div class="navbar-header">\r\n\r\n        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".ga-header-collapse">\r\n            <span class="sr-only">Toggle navigation</span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n        </button>\r\n\r\n        <a href="http://www.ga.gov.au" class="hidden-xs"><img src="data:image/png;base64,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" alt="Australian Government - Geoscience Australia" class="logo"></img></a>\r\n        <a href="http://www.ga.gov.au" class="visible-xs"><img src="data:image/png;base64,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" alt="Australian Government - Geoscience Australia" class="logo-stacked"></img></a>\r\n        <a href="/" class="appTitle visible-xs">\r\n            <h1 style="font-size:120%">{{heading}}</h1>\r\n        </a>\r\n    </div>\r\n    <div class="navbar-collapse collapse ga-header-collapse">\r\n        <ul class="nav navbar-nav">\r\n            <li class="hidden-xs"><a href="/"><h1 class="applicationTitle">{{heading}}</h1></a></li>\r\n        </ul>\r\n        <ul class="nav navbar-nav navbar-right nav-icons">\r\n         <li placenames-navigation role="menuitem" current="current" style="padding-right:10px"></li>\r\n\t\t\t<li mars-version-display role="menuitem" style="padding-top: 19px;"></li>\r\n\t\t\t<li style="width:10px"></li>\r\n        </ul>\r\n    </div><!--/.nav-collapse -->\r\n</div>\r\n\r\n<!-- Strap -->\r\n<div class="row">\r\n    <div class="col-md-12">\r\n        <div class="strap-blue">\r\n        </div>\r\n        <div class="strap-white">\r\n        </div>\r\n        <div class="strap-red">\r\n        </div>\r\n    </div>\r\n</div>'),e.put("placenames/maps/maps.html",'<div  ng-controller="MapsCtrl as maps">\r\n\t<div style="position:relative;padding:5px;padding-left:10px;" >\r\n\t\t<div class="panel panel-default" style="padding:5px;" >\r\n\t\t\t<div class="panel-heading">\r\n\t\t\t\t<h3 class="panel-title">Layers</h3>\r\n\t\t\t</div>\r\n\t\t\t<div class="panel-body">\r\n\t\t\t\t<div class="container-fluid">\r\n\t\t\t\t\t<div class="row" ng-repeat="layer in layersTab.layers" \r\n\t\t\t\t\t\t\tstyle="padding:7px;padding-left:10px;position:relative" ng-class-even="\'even\'" ng-class-odd="\'odd\'">\r\n\t\t\t\t\t\t<div style="position:relative;left:6px;">\r\n\t\t\t\t\t\t\t<a href="{{layer.metadata}}" target="_blank" \r\n\t\t\t\t\t\t\t\t\tclass="featureLink" title=\'View metadata related to "{{layer.name}}". (Opens new window.)\'>\r\n\t\t\t\t\t\t\t\t{{layer.name}}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<div class="pull-right" style="width:270px;" tooltip="Show on map. {{layer.help}}">\r\n\t\t\t\t\t\t\t\t<span style="padding-left:10px;width:240px;" class="pull-left"><explorer-layer-slider layer="layer.layer"></explorer-layer-slider></span>\r\n\t\t\t\t\t\t\t\t<button style="padding:2px 8px 2px 2px;" type="button" class="undecorated featureLink pull-right" href="javascript:;" \r\n\t\t\t\t\t\t\t\t\t\tng-click="maps.toggleLayer(layer)" >\r\n\t\t\t\t\t\t\t\t\t<i class="fa" ng-class="{\'fa-eye-slash\':(!layer.displayed), \'fa-eye active\':layer.displayed}"></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),e.put("placenames/navigation/altthemes.html",'<span class="altthemes-container">\r\n\t<span ng-repeat="item in themes | altthemesMatchCurrent : current">\r\n       <a title="{{item.label}}" ng-href="{{item.url}}" class="altthemesItemCompact" target="_blank">\r\n         <span class="altthemes-icon" ng-class="item.className"></span>\r\n       </a>\r\n    </li>\r\n</span>'),e.put("placenames/panes/panes.html",'<div class="mapContainer" class="col-md-12" style="padding-right:0">\r\n\t<div class="panesMapContainer" geo-map configuration="data.map"></div>\r\n   <div class="base-layer-controller">\r\n    \t<div geo-draw data="data.map.drawOptions" line-event="elevation.plot.data" rectangle-event="bounds.drawn"></div>\r\n   </div>\r\n   <restrict-pan bounds="data.map.position.bounds"></restrict-pan>\r\n</div>'),e.put("placenames/pills/pills.html",'<span class="btn btn-primary btn-xs pn-pill" ng-repeat="type in pp.pills | placenamesSelectedFacets" tooltip-append-to-body="true" tooltip-placement="left" uib-tooltip="{{type.name}}">\r\n   <span style="max-width:100px;display:inline-block;" class="ellipsis">{{type.name}}</span>\r\n   <span style="max-width:100px;display:inline-block;" class="ellipsis"> ({{type.count?type.count:0 | number}})\r\n      <a ng-click="pp.clear(type)" href="javascript:void(0)">\r\n         <i class="fa fa-close fa-xs" style="color: white"></i>\r\n      </a>\r\n   </span>\r\n</span>'),e.put("placenames/popover/popover.html",'<div class="placenames-popover {{direction}}" ng-class="containerClass" ng-show="show">\r\n  <div class="arrow"></div>\r\n  <div class="placenames-popover-inner" ng-transclude></div>\r\n</div>'),e.put("placenames/reset/reset.html",'<button type="button" class="map-tool-toggle-btn" ng-click="reset()" title="Reset page">\r\n   <span class="hidden-sm">Reset</span>\r\n   <i class="fa fa-lg fa-refresh"></i>\r\n</button>'),e.put("placenames/results/item.html",'<div>\r\n<div class="container-fluid">\r\n   <div class="row">\r\n      <div class="col-md-12 pn-header" >\r\n         <button type="button" class="undecorated" ng-click="vm.showPan(vm.item)"\r\n                tooltip-append-to-body="true" title="Zoom to location and mark." tooltip-placement="left" uib-tooltip="Zoom to location and mark">\r\n            <i class="fa fa-lg fa-flag-o"></i>\r\n         </button>\r\n         <span><a ng-href="{{vm.item | placenamesGoogleLink}}" target="_google"\r\n            title="View in Google maps. While the location will always be correct, Google will do a best guess at matching the Gazetteer name to its data.">{{vm.item.name}}</a></span>\r\n         <span class="pull-right">Record ID: {{vm.item.recordId}}</span>\r\n      </div>\r\n   </div>\r\n</div>\r\n<div ng-if="!vm.feature" style="padding:20px 10px 130px;">\r\n   <i class="fa-spinner fa-spin fa fa-lf"></i>Loading full data&hellip;\r\n</div>\r\n<div class="container-fluid" ng-if="vm.feature">\r\n   <div class="row" ng-if="vm.feature.attributes.Variant_Name">\r\n      <div class="col-md-4">Variant Name</div>\r\n      <div class="col-md-8">{{vm.feature.attributes.Variant_Name | placenamesSplitBar}}</div>\r\n   </div>\r\n   <div class="row" ng-if="vm.feature.attributes">\r\n      <div class="col-md-4">State</div>\r\n      <div class="col-md-8">{{vm.feature.attributes.State}}</div>\r\n   </div>\r\n   <div class="row">\r\n      <div class="col-md-4">Feature Type</div>\r\n      <div class="col-md-8">{{vm.item.featureCode | placenamesFeature}}</div>\r\n   </div>\r\n   <div class="row">\r\n      <div class="col-md-4">Classification</div>\r\n      <div class="col-md-8">{{vm.item.classification}}</div>\r\n   </div>\r\n   <div class="row" ng-if="vm.feature.attributes">\r\n      <div class="col-md-4">CGDN</div>\r\n      <div class="col-md-8">{{vm.feature.attributes.CGDN}}</div>\r\n   </div>\r\n   <div class="row" ng-if="vm.feature.attributes">\r\n      <div class="col-md-4">Concise Gazetteer</div>\r\n      <div class="col-md-8">{{vm.feature.attributes.Concise_gaz}}</div>\r\n   </div>\r\n   <div class="row" ng-if="vm.feature.attributes.Map_100K">\r\n      <div class="col-md-4">1:100K Map Index</div>\r\n      <div class="col-md-8"><span class="pn-numeric">{{vm.feature.attributes.Map_100K}}</span></div>\r\n   </div>\r\n   <div class="row">\r\n      <div class="col-md-4">Authority</div>\r\n      <div class="col-md-8">{{vm.item.authority}}</div>\r\n   </div>\r\n   <div class="row" ng-if="vm.feature.attributes">\r\n      <div class="col-md-4">Status Description</div>\r\n      <div class="col-md-8">{{vm.feature.attributes.Status_desc}}</div>\r\n   </div>\r\n   <div class="row" ng-if="vm.feature.attributes.Lat_minutes">\r\n      <div class="col-md-4">Latitude</div>\r\n      <div class="col-md-4">\r\n         <span class="pn-numeric">\r\n            {{vm.feature.attributes.Lat_degrees}}&deg;\r\n            {{vm.feature.attributes.Lat_minutes}}&prime;\r\n            {{vm.feature.attributes.Lat_seconds}}&Prime;\r\n         </span>\r\n      </div>\r\n      <div class="col-md-4">\r\n         <span class="pn-numeric">\r\n            {{vm.feature.attributes.Latitude}}&deg;\r\n         </span>\r\n      </div>\r\n   </div>\r\n\r\n   <div class="row" ng-if="!vm.feature.noData && !vm.feature.attributes.Lat_minutes">\r\n      <div class="col-md-4">Latitude</div>\r\n      <div class="col-md-8">\r\n         <span class="pn-numeric">\r\n            {{vm.feature.attributes.Latitude}}&deg;\r\n         </span>\r\n      </div>\r\n   </div>\r\n\r\n   <div class="row" ng-if="vm.feature.noData ">\r\n      <div class="col-md-4">Latitude</div>\r\n      <div class="col-md-8">\r\n         <span class="pn-numeric">\r\n            {{vm.item.location | itemLongitude}}&deg;\r\n         </span>\r\n      </div>\r\n   </div>\r\n\r\n   <div class="row" ng-if="vm.feature.noData ">\r\n      <div class="col-md-4">Latitude</div>\r\n      <div class="col-md-8">\r\n         <span class="pn-numeric">\r\n            {{vm.item.location | itemLatitude}}&deg;\r\n         </span>\r\n      </div>\r\n   </div>\r\n\r\n   <div class="row" ng-if="vm.feature.attributes.Long_minutes">\r\n      <div class="col-md-4">Longitude</div>\r\n      <div class="col-md-4"><span class="pn-numeric">\r\n         {{vm.feature.attributes.Long_degrees}}&deg;\r\n         {{vm.feature.attributes.Long_minutes}}&prime;\r\n         {{vm.feature.attributes.Long_seconds}}&Prime;\r\n         </span>\r\n      </div>\r\n      <div class="col-md-4">\r\n         <span class="pn-numeric">\r\n         {{vm.feature.attributes.Longitude}}&deg;</span></div>\r\n   </div>\r\n\r\n   <div class="row" ng-if="!vm.feature.noData && !vm.feature.attributes.Long_minutes">\r\n      <div class="col-md-4">Longitude</div>\r\n      <div class="col-md-8">\r\n         <span class="pn-numeric">\r\n         {{vm.feature.attributes.Longitude}}&deg;</span></div>\r\n   </div>\r\n   <div class="row pn-item-footer" ng-if="vm.feature.attributes">\r\n      <div class="col-md-12">Download as:\r\n         <span class="pull-right">\r\n            [<a href"javascript:void()" ng-click="vm.download(\'wfs\')">WFS Get Feature</a>]\r\n         </span>\r\n      </div>\r\n   </div>\r\n   <div class="row pn-item-footer" ng-if="vm.feature.noData">\r\n      <i class="fa fa-exclamation-circle" aria-hidden="true"></i>\r\n      We found no further metadata for this dataset. At a future time further metadata may be available.\r\n   </div>\r\n</div>'),e.put("placenames/results/results.html",'<div class="panel panel-default pn-container" ng-if="pr.data.searched" common-scroller more="pr.more()" ng-if="pr.data.searched">\r\n   <div class="panel-heading" style="min-height:25px">\r\n      <span ng-if="pr.data.searched.item">\r\n         Showing selected feature\r\n      </span>\r\n      <span ng-if="!pr.data.searched.item">\r\n         Matched {{pr.data.searched.data.response.numFound | number}} features, showing {{pr.data.searched.data.response.docs.length | number}} features\r\n         <a href"javascript:void()" ng-click="pr.download()" ng-show="pr.data.searched.data.response.docs.length" uib-tooltip="Download listed features in ESRI JSON format" tooltip-placement="bottom">\r\n            <i class="fa fa-download"></i>\r\n         </a>\r\n      </span>\r\n      <span class="pull-right">\r\n         <a href"javascript:void()" ng-if="!pr.data.searched.item" ng-click="pr.more()" tooltip-placement="top"\r\n               uib-tooltip="Scroll to the bottom of results or click here to load more matching features">\r\n            [Load more...]\r\n         </a>\r\n         <a href="#" ng-click="pr.clear()" uib-tooltip="Clear results and return to search" tooltip-placement="left">\r\n            <i class="fa fa-times-rectangle-o fa-lg" aria-hidden="true"></i>\r\n         </a>\r\n      </span>\r\n   </div>\r\n   <div class="panel-heading">\r\n      <placenames-results-item ng-if="pr.data.searched.item" item="pr.data.searched.item"></placenames-results-item>\r\n      <div class="pn-results-list" ng-if="!pr.data.searched.item" ng-repeat="doc in pr.data.searched.data.response.docs">\r\n         <placenames-results-item item="doc"></placenames-results-item>\r\n      </div>\r\n   </div>\r\n</div>'),e.put("placenames/search/search.html",'<div class="pn-search-container">\r\n   <placenames-results ng-if="state.searched" data="state"></placenames-results>\r\n   <div style="float:clear" ng-show="!state.searched">\r\n      <h4 style="font-size:12">Search by map location, partial name match or feature type</h4>\r\n      <div class="search-text">\r\n         <div class="input-group input-group-sm">\r\n            <span class="input-group-addon" id="names1">Filter:</span>\r\n\r\n            <input type="text" ng-model="state.filter" placeholder="Match by feature name..." ng-model-options="{ debounce: 300}"\r\n                  typeahead-on-select="select($item, $model, $label)" typeahead-template-url="placenames/search/typeahead.html"\r\n                  class="form-control" typeahead-min-length="0" uib-typeahead="doc as doc.name for doc in loadDocs(state.filter)"\r\n                  typeahead-loading="loadingLocations" typeahead-no-results="noResults" placenames-clear>\r\n\r\n            <span class="input-group-btn">\r\n            <button class="btn btn-primary" type="button" ng-click="search()" ng-disabled="!state.persist.data || !state.filtered.response.numFound">Search</button>\r\n         </span>\r\n         </div>\r\n      </div>\r\n      <div class="clearfix">\r\n         <div>\r\n            <strong style="float:right">Found {{state.filtered.response.numFound | number:0}} features</strong>\r\n            <placenames-featuretypes-pills ng-if="state.featureCodes.length" features="state.featureCodes" update="update()"></placenames-featuretypes-pills>\r\n            <placenames-classifications-pills ng-if="state.classifications.length" classifications="state.classifications" update="update()"></placenames-classifications-pills>\r\n            <placenames-authorities-pills ng-if="state.authorities.length" authorities="state.authorities" update="update()"></placenames-authorities-pills>\r\n         </div>\r\n      </div>\r\n      <uib-accordion close-others="oneAtATime">\r\n         <div uib-accordion-group class="panel-default" is-open="status.open">\r\n            <uib-accordion-heading>\r\n               <span class="pn-featuretypes-swathe"></span>\r\n               Filter by feature type...\r\n               <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': status.open, \'glyphicon-chevron-right\': !status.open}"></i>\r\n            </uib-accordion-heading>\r\n            <placenames-featuretypes ng-if="status.open" types="state.featureCodes" update="update()"></placenames-featuretypes>\r\n         </div>\r\n         <div uib-accordion-group class="panel-default" is-open="status.classOpen">\r\n            <uib-accordion-heading>\r\n               <span class="pn-classifications-swathe"></span>\r\n               Filter by classification...\r\n               <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': status.classOpen, \'glyphicon-chevron-right\': !status.classOpen}"></i>\r\n            </uib-accordion-heading>\r\n            <placenames-classifications classifications="state.classifications" update="update()" ng-if="status.classOpen"></placenames-classifications>\r\n         </div>\r\n         <div uib-accordion-group class="panel-default" is-open="status.authOpen">\r\n            <uib-accordion-heading>\r\n               <span class="pn-authorities-swathe"></span>\r\n               Filter by authority...\r\n               <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': status.authOpen, \'glyphicon-chevron-right\': !status.authOpen}"></i>\r\n            </uib-accordion-heading>\r\n            <placenames-authorities authorities="state.authorities" update="update()" ng-if="status.authOpen"></placenames-authorities>\r\n         </div>\r\n      </uib-accordion>\r\n   </div>\r\n</div>'),
e.put("placenames/search/typeahead.html",'<a placenames-options ng-mouseenter="enter()" ng-mouseleave="leave()"  tooltip-append-to-body="true"\r\n               tooltip-placement="left" uib-tooltip-html="match.model | placenamesTooltip">\r\n   <span ng-bind-html="match.model.name | uibTypeaheadHighlight:query"></span>\r\n   (<span ng-bind-html="match.model.recordId"></span>)\r\n</a>'),e.put("placenames/splash/splash.html",'<div class="modal-header">\r\n   <h3 class="modal-title splash">Place Names</h3>\r\n</div>\r\n<div class="modal-body" id="accept" ng-form exp-enter="accept()" placenames-splash-modal style="width: 100%; margin-left: auto; margin-right: auto;">\r\n\t<div style="border-bottom:1px solid gray">\r\n\t\t<p>\r\n\t\t\tUsers can download the place names data over the Indian Ocean which is licensed under Creative Commons.\r\n\t\t</p>\r\n\t\t<p>\r\n\t\t\tData can be downloaded from the portal at <strong>no charge</strong> and there is no limit to how many requests you can place (please check the file size before you download your results).\r\n\t\t</p>\r\n\t\t<p>\r\n\t\t\tIf you need datasets in full, please contact <a href="clientservices@ga.gov.au">clientservices@ga.gov.au</a>.\r\n\t\t</p>\r\n\t\t<p>\r\n\t\t\t<a href="http://opentopo.sdsc.edu/gridsphere/gridsphere?cid=contributeframeportlet&gs_action=listTools" target="_blank">Click here for Free GIS Tools.</a>\r\n\t\t</p>\r\n\r\n\t\t<div style="padding:30px; padding-top:0; padding-bottom:40px; width:100%">\r\n\t\t\t<div class="pull-right">\r\n\t\t\t  \t<button type="button" class="btn btn-primary" ng-model="seenSplash" ng-focus ng-click="accept()">Continue</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div ng-show="messages.length > 0" class="container" style="width:100%; max-height:250px; overflow-y:auto">\r\n\t\t<div class="row" ng-class-even="\'grayline\'" style="font-weight:bold">\r\n\t\t\t<div class="col-sm-12" ><h3>News</h3></div>\r\n\t\t</div>\r\n\r\n\t\t<div class="row"ng-class-even="\'grayline\'" style="max-height:400px;overflow:auto" ng-repeat="message in messages | sortNotes">\r\n\t\t\t<div class="col-sm-12">\r\n\t\t\t\t<h4>{{message.title}} <span class="pull-right" style="font-size:70%">Created: {{message.creationDate | date : "dd/MM/yyyy"}}</span></h4>\r\n\t\t\t\t<div ng-bind-html="message.description"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),e.put("placenames/side-panel/side-panel-left.html",'<div class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-left" style="width: {{left.width}}px;" ng-class="{\'cbp-spmenu-open\': left.active}">\r\n    <a href="" title="Close panel" ng-click="closeLeft()" style="z-index: 1200">\r\n        <span class="glyphicon glyphicon-chevron-left pull-right"></span>\r\n    </a>\r\n    <div ng-show="left.active === \'legend\'" class="left-side-menu-container">\r\n        <legend url="\'img/AustralianTopogaphyLegend.png\'" title="\'Map Legend\'"></legend>\r\n    </div>\r\n</div>'),e.put("placenames/side-panel/side-panel-right.html",'<div class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right noPrint" ng-attr-style="width:{{right.width}}" ng-class="{\'cbp-spmenu-open\': right.active}">\r\n    <a href="" title="Close panel" ng-click="closePanel()" style="z-index: 1200">\r\n        <span class="glyphicon glyphicon-chevron-right pull-left"></span>\r\n    </a>\r\n    <div ng-show="right.active === \'search\'" class="right-side-menu-container">\r\n        <div class="panesTabContentItem" placenames-search ></div>\r\n    </div>\r\n    <div ng-if="right.active === \'glossary\'" class="right-side-menu-container">\r\n        <div class="panesTabContentItem" placenames-glossary></div>\r\n    </div>\r\n    <div ng-show="right.active === \'help\'" class="right-side-menu-container">\r\n        <div class="panesTabContentItem" placenames-help></div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n'),e.put("placenames/side-panel/trigger.html",'<button ng-click="toggle()" type="button" class="map-tool-toggle-btn">\r\n   <span class="hidden-sm">{{name}}</span>\r\n   <i class="fa fa-lg" ng-class="iconClass"></i>\r\n</button>'),e.put("placenames/themes/themes.html",'<div class="dropdown themesdropdown">\r\n   <button class="btn btn-default dropdown-toggle themescurrent" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\r\n     Theme\r\n     <span class="caret"></span>\r\n   </button>\r\n   <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">\r\n     <li ng-repeat="item in themes">\r\n        <a href="#" title="{{item.title}}" ng-href="{{item.url}}" class="themesItemCompact">\r\n          <span class="icsm-icon" ng-class="item.className"></span>\r\n          <strong style="vertical-align:top;font-size:110%">{{item.label}}</strong>\r\n        </a>\r\n     </li>\r\n   </ul>\r\n </div>'),e.put("placenames/toolbar/toolbar.html",'<div class="placenames-toolbar noPrint">\r\n    <div class="toolBarContainer">\r\n        <div>\r\n            <ul class="left-toolbar-items"></ul>\r\n            <ul class="right-toolbar-items">\r\n                <li>\r\n                    <panel-trigger panel-id="search" panel-width="540px" name="Search" icon-class="fa-search" default="true"></panel-trigger>\r\n                </li>\r\n                <li reset-page></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>')}]);